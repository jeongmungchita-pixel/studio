# Federation DI ì•„í‚¤í…ì²˜ ì „ëµ

## ğŸ¯ í•µì‹¬ ì›ì¹™

> "ìˆœí™˜ ì˜ì¡´(cyclic) ì´ìŠˆ ë•Œë¬¸ì— DIë¥¼ í¬ê¸°í•˜ê³  ì „ì—­ ì‹±ê¸€í†¤ìœ¼ë¡œ ê°€ì"ëŠ” í•´ë²•ì€ ê¶Œì¥ë˜ì§€ ì•Šì•„ìš”.  
> ê°€ì¥ ì•ˆì „í•œ íƒ€í˜‘ì€ **"ì¸í”„ë¼ ì¸ìŠ¤í„´ìŠ¤ëŠ” ì‹±ê¸€í†¤(ë˜ëŠ” ì‹±ê¸€í„´ì²˜ëŸ¼) + ì• í”Œë¦¬ì¼€ì´ì…˜ ì˜ì¡´ì„±ì€ DI"**ë¡œ ë‚˜ëˆ„ëŠ” ê²ë‹ˆë‹¤.

## ğŸ“Š íŒŒì¼ ë¶„ë¥˜ (490ê°œ íŒŒì¼ ê¸°ì¤€)

### ğŸ—ï¸ 1. ì¸í”„ë¼ ë ˆì´ì–´ (ì‹±ê¸€í†¤) - 15ê°œ íŒŒì¼
**SDK ì´ˆê¸°í™”/ì—°ê²° ê´€ë¦¬ - ì „ì—­ ìˆ˜ëª… ìœ ì§€**
```
â”œâ”€â”€ src/infra/bootstrap.ts (Firebase Admin ì‹±ê¸€í†¤)
â”œâ”€â”€ src/firebase/admin.ts (Firebase Admin ì„¤ì •)
â”œâ”€â”€ src/firebase/config.ts (Firebase ì„¤ì •)
â”œâ”€â”€ src/firebase/index.ts (Firebase í´ë¼ì´ì–¸íŠ¸)
â”œâ”€â”€ src/firebase/errors.ts (Firebase ì—ëŸ¬ ì²˜ë¦¬)
â”œâ”€â”€ src/middleware.ts (Next.js ë¯¸ë“¤ì›¨ì–´)
â”œâ”€â”€ src/middleware/auth.ts (ì¸ì¦ ë¯¸ë“¤ì›¨ì–´)
â”œâ”€â”€ src/middleware/rate-limit.ts (ë ˆì´íŠ¸ ë¦¬ë¯¸íŠ¸)
â”œâ”€â”€ src/middleware/auth-enhanced.ts (í–¥ìƒëœ ì¸ì¦)
â”œâ”€â”€ src/lib/cache.ts (ìºì‹œ ì¸í”„ë¼)
â”œâ”€â”€ src/lib/performance-monitor.ts (ì„±ëŠ¥ ëª¨ë‹ˆí„°)
â”œâ”€â”€ src/lib/security/ (ë³´ì•ˆ ì¸í”„ë¼)
â”œâ”€â”€ src/lib/validation/ (ê²€ì¦ ì¸í”„ë¼)
â”œâ”€â”€ src/lib/error/error-manager.ts (ì—ëŸ¬ ê´€ë¦¬)
â””â”€â”€ src/lib/api/unified-api-client.ts (API í´ë¼ì´ì–¸íŠ¸)
```

### ğŸ”Œ 2. í¬íŠ¸ ë ˆì´ì–´ (ì¸í„°í˜ì´ìŠ¤) - 8ê°œ íŒŒì¼
**ë„ë©”ì¸ ê²½ê³„ ì •ì˜ - ì¶”ìƒí™”**
```
â”œâ”€â”€ src/ports/index.ts (ëª¨ë“  í¬íŠ¸ ì •ì˜)
â”œâ”€â”€ src/types/auth.ts (Auth í¬íŠ¸ íƒ€ì…)
â”œâ”€â”€ src/types/member.ts (Member í¬íŠ¸ íƒ€ì…)
â”œâ”€â”€ src/types/club.ts (Club í¬íŠ¸ íƒ€ì…)
â”œâ”€â”€ src/types/api.ts (API í¬íŠ¸ íƒ€ì…)
â”œâ”€â”€ src/types/business.ts (ë¹„ì¦ˆë‹ˆìŠ¤ í¬íŠ¸ íƒ€ì…)
â”œâ”€â”€ src/types/notification.ts (ì•Œë¦¼ í¬íŠ¸ íƒ€ì…)
â””â”€â”€ src/types/judge.ts (ì‹¬íŒ í¬íŠ¸ íƒ€ì…)
```

### ğŸ”§ 3. ì–´ëŒ‘í„° ë ˆì´ì–´ (êµ¬í˜„ì²´) - 12ê°œ íŒŒì¼
**í¬íŠ¸ êµ¬í˜„ + ì¸í”„ë¼ ì£¼ì…**
```
â”œâ”€â”€ src/adapters/firebase/
â”‚   â”œâ”€â”€ index.ts (Auth, User, Member ì–´ëŒ‘í„°)
â”‚   â”œâ”€â”€ auth.ts (Firebase Auth ì–´ëŒ‘í„°)
â”‚   â”œâ”€â”€ user.ts (Firebase User ì–´ëŒ‘í„°)
â”‚   â”œâ”€â”€ member.ts (Firebase Member ì–´ëŒ‘í„°)
â”‚   â”œâ”€â”€ club.ts (Firebase Club ì–´ëŒ‘í„°)
â”‚   â”œâ”€â”€ statistics.ts (í†µê³„ ì–´ëŒ‘í„°)
â”‚   â”œâ”€â”€ audit.ts (ê°ì‚¬ ì–´ëŒ‘í„°)
â”‚   â”œâ”€â”€ notification.ts (ì•Œë¦¼ ì–´ëŒ‘í„°)
â”‚   â”œâ”€â”€ storage.ts (ìŠ¤í† ë¦¬ì§€ ì–´ëŒ‘í„°)
â”‚   â””â”€â”€ search.ts (ê²€ìƒ‰ ì–´ëŒ‘í„°)
â”œâ”€â”€ src/services/auth-service.ts (Auth ì„œë¹„ìŠ¤ ì–´ëŒ‘í„°)
â””â”€â”€ src/services/navigation-manager.ts (ë„¤ë¹„ê²Œì´ì…˜ ì–´ëŒ‘í„°)
```

### ğŸ¢ 4. ë„ë©”ì¸ ë ˆì´ì–´ (DI) - 25ê°œ íŒŒì¼
**ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ - í¬íŠ¸ì—ë§Œ ì˜ì¡´**
```
â”œâ”€â”€ src/domain/services/
â”‚   â”œâ”€â”€ user.service.ts (ì‚¬ìš©ì ë„ë©”ì¸)
â”‚   â”œâ”€â”€ member.service.ts (ë©¤ë²„ ë„ë©”ì¸)
â”‚   â”œâ”€â”€ club.service.ts (í´ëŸ½ ë„ë©”ì¸)
â”‚   â”œâ”€â”€ event.service.ts (ì´ë²¤íŠ¸ ë„ë©”ì¸)
â”‚   â””â”€â”€ index.ts (ë„ë©”ì¸ ì„œë¹„ìŠ¤ ì¸ë±ìŠ¤)
â”œâ”€â”€ src/domains/
â”‚   â”œâ”€â”€ member/ (ë©¤ë²„ ë„ë©”ì¸ íŒ¨í‚¤ì§€)
â”‚   â”œâ”€â”€ club/ (í´ëŸ½ ë„ë©”ì¸ íŒ¨í‚¤ì§€)
â”‚   â”œâ”€â”€ event/ (ì´ë²¤íŠ¸ ë„ë©”ì¸ íŒ¨í‚¤ì§€)
â”‚   â”œâ”€â”€ user/ (ì‚¬ìš©ì ë„ë©”ì¸ íŒ¨í‚¤ì§€)
â”‚   â””â”€â”€ business/ (ë¹„ì¦ˆë‹ˆìŠ¤ ë„ë©”ì¸ íŒ¨í‚¤ì§€)
â”œâ”€â”€ src/services/
â”‚   â”œâ”€â”€ user-service.ts (ì‚¬ìš©ì ì„œë¹„ìŠ¤)
â”‚   â”œâ”€â”€ member-service.ts (ë©¤ë²„ ì„œë¹„ìŠ¤)
â”‚   â”œâ”€â”€ club-service.ts (í´ëŸ½ ì„œë¹„ìŠ¤)
â”‚   â”œâ”€â”€ event-service.ts (ì´ë²¤íŠ¸ ì„œë¹„ìŠ¤)
â”‚   â””â”€â”€ notification-service.ts (ì•Œë¦¼ ì„œë¹„ìŠ¤)
â””â”€â”€ src/lib/ (ë„ë©”ì¸ ìœ í‹¸ë¦¬í‹°)
    â”œâ”€â”€ audit/ (ê°ì‚¬ ë„ë©”ì¸)
    â””â”€â”€ monitoring/ (ëª¨ë‹ˆí„°ë§ ë„ë©”ì¸)
```

### ğŸ¯ 5. Composition Root (ê²°ì„ ) - 3ê°œ íŒŒì¼
**ì˜ì¡´ì„± ì¤‘ì•™í™”**
```
â”œâ”€â”€ src/composition-root.ts (ë©”ì¸ ê²°ì„ )
â”œâ”€â”€ src/services/container.ts (ì„œë¹„ìŠ¤ ì»¨í…Œì´ë„ˆ)
â””â”€â”€ src/app/layout.tsx (ì•± ì´ˆê¸°í™”)
```

### ğŸŒ 6. í”„ë ˆì  í…Œì´ì…˜ ë ˆì´ì–´ (DI ì‚¬ìš©) - 180ê°œ íŒŒì¼
**UI/í˜ì´ì§€ - ë„ë©”ì¸ ì„œë¹„ìŠ¤ ì£¼ì…ë°›ìŒ**
```
â”œâ”€â”€ src/app/ (120ê°œ í˜ì´ì§€ íŒŒì¼)
â”‚   â”œâ”€â”€ admin/ (ê´€ë¦¬ì í˜ì´ì§€)
â”‚   â”œâ”€â”€ clubs/ (í´ëŸ½ í˜ì´ì§€)
â”‚   â”œâ”€â”€ members/ (ë©¤ë²„ í˜ì´ì§€)
â”‚   â”œâ”€â”€ dashboard/ (ëŒ€ì‹œë³´ë“œ)
â”‚   â””â”€â”€ api/ (API ë¼ìš°íŠ¸)
â”œâ”€â”€ src/components/ (50ê°œ ì»´í¬ë„ŒíŠ¸)
â”‚   â”œâ”€â”€ common/ (ê³µí†µ ì»´í¬ë„ŒíŠ¸)
â”‚   â”œâ”€â”€ ui/ (UI ì»´í¬ë„ŒíŠ¸)
â”‚   â”œâ”€â”€ forms/ (í¼ ì»´í¬ë„ŒíŠ¸)
â”‚   â””â”€â”€ layout/ (ë ˆì´ì•„ì›ƒ ì»´í¬ë„ŒíŠ¸)
â””â”€â”€ src/hooks/ (10ê°œ í›…)
    â”œâ”€â”€ use-user.tsx
    â”œâ”€â”€ use-role.tsx
    â”œâ”€â”€ use-session-manager.tsx
    â””â”€â”€ use-onboarding.tsx
```

### ğŸ§ª 7. í…ŒìŠ¤íŠ¸ ë ˆì´ì–´ (Mock/ëª© ì£¼ì…) - 150ê°œ íŒŒì¼
**í…ŒìŠ¤íŠ¸ - Mock ì–´ëŒ‘í„° ì‚¬ìš©**
```
â”œâ”€â”€ src/__tests__/ (ë‹¨ìœ„ í…ŒìŠ¤íŠ¸)
â”œâ”€â”€ src/services/__tests__/ (ì„œë¹„ìŠ¤ í…ŒìŠ¤íŠ¸)
â”œâ”€â”€ src/components/__tests__/ (ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸)
â”œâ”€â”€ src/app/__tests__/ (í˜ì´ì§€ í…ŒìŠ¤íŠ¸)
â”œâ”€â”€ src/middleware/__tests__/ (ë¯¸ë“¤ì›¨ì–´ í…ŒìŠ¤íŠ¸)
â”œâ”€â”€ src/lib/__tests__/ (ë¼ì´ë¸ŒëŸ¬ë¦¬ í…ŒìŠ¤íŠ¸)
â”œâ”€â”€ src/utils/__tests__/ (ìœ í‹¸ë¦¬í‹° í…ŒìŠ¤íŠ¸)
â”œâ”€â”€ src/hooks/__tests__/ (í›… í…ŒìŠ¤íŠ¸)
â””â”€â”€ src/test/ (í…ŒìŠ¤íŠ¸ ì„¤ì •/ëª©)
```

### ğŸ“‹ 8. ìœ í‹¸ë¦¬í‹°/ê³µí†µ (ìˆœìˆ˜ í•¨ìˆ˜) - 97ê°œ íŒŒì¼
**ìƒíƒœ ì—†ëŠ” ìœ í‹¸ë¦¬í‹°**
```
â”œâ”€â”€ src/utils/ (ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜)
â”œâ”€â”€ src/constants/ (ìƒìˆ˜)
â”œâ”€â”€ src/types/ (íƒ€ì… ì •ì˜)
â”œâ”€â”€ src/stores/ (ìƒíƒœ ê´€ë¦¬)
â”œâ”€â”€ src/providers/ (í”„ë¡œë°”ì´ë”)
â””â”€â”€ src/scripts/ (ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸)
```

## ğŸ¯ ì–¸ì œ ì‹±ê¸€í†¤ì´ ë‚«ê³ , ì–¸ì œ DIê°€ ë‚«ë‚˜

### âœ… ì‹±ê¸€í†¤ì´ ë§ëŠ” ê²½ìš° (ì¸í”„ë¼ ë ˆë²¨)
- **ì—°ê²°/ì„¸ì…˜/í’€ì„ ëŒ€í‘œí•˜ëŠ” ë¦¬ì†ŒìŠ¤**: Firestore, Auth, Storage, Pub/Sub í´ë¼ì´ì–¸íŠ¸ ë“±
- **ë¹„ìš©ì´ í° ì´ˆê¸°í™”**: credential ë¡œë”©, ì—ë®¬ë ˆì´í„°/í”„ë¡œë•ì…˜ ì—”ë“œí¬ì¸íŠ¸ ë°”ì¸ë”©
- **ë™ì¼ í”„ë¡œì„¸ìŠ¤ ë‚´ ë‹¤ì¤‘ ìƒì„±ì´ ìœ„í—˜**: íŠ¸ëœì­ì…˜ ë§¤ë‹ˆì €, ì»¤ë„¥ì…˜ í’€

ğŸ‘‰ ì´ ë ˆë²¨ì€ "Composition Root"ì—ì„œ í•œ ë²ˆë§Œ ìƒì„±í•˜ê³ , ì´í›„ ì£¼ì…í•´ì„œ ì”ë‹ˆë‹¤.  
(= "ì „ì—­ ì ‘ê·¼"ì€ í”¼í•˜ê³ , "ì „ì—­ ìˆ˜ëª…"ì€ ìœ ì§€)

### âœ… DIê°€ ë°˜ë“œì‹œ í•„ìš”í•œ ê²½ìš° (ë„ë©”ì¸/ì„œë¹„ìŠ¤ ë ˆë²¨)
- **ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì˜ êµì²´ ê°€ëŠ¥ì„±**: ë‹¤ë¥¸ ì €ì¥ì†Œë¡œ ì „í™˜, mock ì£¼ì…, ì •ì±…/ì „ëµ êµì²´
- **í…ŒìŠ¤íŠ¸ ìš©ì´ì„±**: Unit í…ŒìŠ¤íŠ¸ì—ì„œ ê°€ì§œ Repo/í´ë¼ì´ì–¸íŠ¸ ì£¼ì…
- **í™•ì¥ì„±/ìœ ì§€ë³´ìˆ˜ì„±**: ê²°ì œ, ì•Œë¦¼, ë¡œê¹… ë“± ë‹¤í˜•ì„± ë§ì€ ê³„ì¸µ

ğŸ‘‰ ë¦¬í¬ì§€í† ë¦¬/ì„œë¹„ìŠ¤ëŠ” **ì¸í„°í˜ì´ìŠ¤(í¬íŠ¸)**ì— ì˜ì¡´í•˜ê³ , êµ¬í˜„(ì–´ëŒ‘í„°)ì€ ì£¼ì….

## ğŸ”„ ìˆœí™˜ ì˜ì¡´ì„ ëŠëŠ” 3ê°€ì§€ ì‹¤ì „ íŒ¨í„´

### 1. í¬íŠ¸/ì–´ëŒ‘í„°(í—¥ì‚¬ê³ ë‚ )
```typescript
// port
export interface UserRepo { 
  get(id: string): Promise<User|null> 
}

// adapter (infra)
export class FirebaseUserRepo implements UserRepo {
  constructor(private db: Firestore) {}
  async get(id: string) { /* db.collection('users')... */ }
}

// service (domain)
export class UserService {
  constructor(private repo: UserRepo) {}
}
```
UserService â†” FirebaseUserRepoê°€ ì„œë¡œë¥¼ ì°¸ì¡°í•˜ì§€ ì•Šì•„ ì‚¬ì´í´ì´ ìƒê¸°ì§€ ì•ŠìŒ.

### 2. Composition Root(ì•± ì‹œì‘ë¶€)ì—ì„œë§Œ ê²°ì„ 
```typescript
// app.ts
const db = initFirestoreSingleton(/* env */)  // â† ì‹±ê¸€í†¤ or ëª¨ë“ˆ ìºì‹œ
const userRepo = new FirebaseUserRepo(db)
const userService = new UserService(userRepo)
// ë¼ìš°í„°/í•¸ë“¤ëŸ¬ì— userService ì£¼ì…
```
ìƒì„±/ì—°ê²°ì€ ì—¬ê¸°ì„œ ë. ë‚˜ë¨¸ì§€ëŠ” í•¨ìˆ˜ ì¸ì/ì»¨í…Œì´ë„ˆ ì£¼ì….

### 3. Provider/Factoryë¡œ ê°„ì ‘í™”
```typescript
type FirestoreProvider = () => Firestore
const provideDb: FirestoreProvider = singletonDbFactory(env)

export class FirebaseUserRepo implements UserRepo {
  constructor(private getDb: FirestoreProvider) {}
  async get(id: string) { const db = this.getDb(); /* ... */ }
}
```
í…ŒìŠ¤íŠ¸ì—ì„  provideDbë¥¼ ëª© íŒ©í† ë¦¬ë¡œ ë°”ê¿”ì¹˜ê¸° â†’ ìˆœí™˜Â·ì „ì—­ì°¸ì¡° íšŒí”¼.

## âš ï¸ "ì „ì—­ ì‹±ê¸€í†¤ë§Œ"ì˜ ë‹¨ì  (ì™œ í”¼í•˜ë¼ê³  í• ê¹Œ)
- **í…ŒìŠ¤íŠ¸ ë¶ˆí¸**: ì „ì—­ ìƒíƒœë¥¼ ë¦¬ì…‹/ëŒ€ì²´í•˜ê¸° ê¹Œë‹¤ë¡œì›€ (íŠ¹íˆ ë³‘ë ¬ í…ŒìŠ¤íŠ¸)
- **ìˆ¨ì€ ì˜ì¡´ì„±**: í•¨ìˆ˜ ì‹œê·¸ë‹ˆì²˜ì— ë“œëŸ¬ë‚˜ì§€ ì•Šì•„ ì¶”ì  ì–´ë ¤ì›€
- **í™•ì¥/êµì²´ ë¹„ìš©â†‘**: êµ¬í˜„ ë°”ê¿€ ë•Œ ì „ì—­ ì˜í–¥ê¶Œì´ ë„“ìŒ
- **ì´ˆê¸°í™” íƒ€ì´ë° ì´ìŠˆ**: í´ë¼ìš°ë“œ í•¨ìˆ˜/ì„œë²„ë¦¬ìŠ¤ì—ì„œ ì½œë“œìŠ¤íƒ€íŠ¸Â·ì›Œë°ì—… íƒ€ì´ë° ê¼¬ì„

## ğŸ”¥ Firebaseê°€ "ìˆœí™˜ì‹"ìœ¼ë¡œ ëŠê»´ì§ˆ ë•Œì˜ ì²˜ë°©

**ì•ˆí‹°íŒ¨í„´**: ëª¨ë“ˆ Aê°€ getFirestore() í˜¸ì¶œ, ëª¨ë“ˆ Bë„ í˜¸ì¶œ, ëª¨ë“ˆ Cì—ì„œ ë˜ í˜¸ì¶œ â†’  
ê° ëª¨ë“ˆì´ SDK ìƒì„±ê³¼ ë„ë©”ì¸ ë¡œì§ì„ ë’¤ì„ìœ¼ë©´ ì‚¬ì´í´Â·ê²°í•© í­ì¦

**í•´ë²•**:
1. SDK ì´ˆê¸°í™”ëŠ” ì˜¤ì§ í•˜ë‚˜ì˜ íŒŒì¼(composition root or infra/bootstrap)ì—ì„œë§Œ
2. ë„ë©”ì¸ ê³„ì¸µì€ SDKë¥¼ ëª¨ë¦„: ì˜¤ì§ í¬íŠ¸(ì¸í„°í˜ì´ìŠ¤)ë§Œ ì•
3. ë¼ìš°í„°/í•¸ë“¤ëŸ¬ëŠ” ì„œë¹„ìŠ¤ë§Œ ì£¼ì…ë°›ìŒ: ë‚´ë¶€ì—ì„œ SDK í˜¸ì¶œ ê¸ˆì§€
4. í…ŒìŠ¤íŠ¸ëŠ” ì—ë®¬ë ˆì´í„°(í†µí•©) vs **ì¸ë©”ëª¨ë¦¬ ëª©(ë‹¨ìœ„)**ë¡œ ë¶„ë¦¬

## ğŸ“Š ì˜ì‚¬ê²°ì • ë§¤íŠ¸ë¦­ìŠ¤

| ìƒí™© | ê¶Œì¥ |
|------|------|
| ë‹¨ì¼ ìŠ¤í¬ë¦½íŠ¸, ì‘ì€ íˆ´ | ê°„ë‹¨ ì‹±ê¸€í„´(ëª¨ë“ˆ ìºì‹œ) OK |
| ì¤‘í˜• ì´ìƒ ì„œë²„/í•¨ìˆ˜ | SDK ì¸ìŠ¤í„´ìŠ¤ë§Œ ì‹±ê¸€í†¤ + ì„œë¹„ìŠ¤/ë¦¬í¬ëŠ” DI |
| íŒ€ ê°œë°œ, ë‹¤ì¤‘ ì•± ê³µìœ  | ë„ë©”ì¸ íŒ¨í‚¤ì§€ ë¶„ë¦¬ + DI ì»¨í…Œì´ë„ˆ(ë°”ì¸ë”© ëª¨ë“ˆ) |
| í…ŒìŠ¤íŠ¸ê°€ ì¤‘ìš” | DI í•„ìˆ˜(ëª©/ì—ë®¬ë ˆì´í„° ë³‘í–‰), ì „ì—­ ì‹±ê¸€í†¤ ìµœì†Œí™” |

## ğŸ’» ìµœì†Œ êµ¬í˜„ ì˜ˆ (TS/Node)

```typescript
// infra/bootstrap.ts
import { getFirestore } from "firebase-admin/firestore";
import { initializeApp, applicationDefault } from "firebase-admin/app";

let _db: FirebaseFirestore.Firestore | null = null;
export function dbSingleton() {
  if (_db) return _db;
  initializeApp({ credential: applicationDefault(), projectId: process.env.PROJECT_ID });
  _db = getFirestore();
  return _db;
}

// composition-root.ts
import { FirebaseUserRepo } from "./infra/FirebaseUserRepo";
import { UserService } from "./domain/UserService";
import { dbSingleton } from "./infra/bootstrap";

export function buildApp() {
  const db = dbSingleton();                 // ì‹±ê¸€í†¤ ìƒì„±
  const userRepo = new FirebaseUserRepo(db); // ì£¼ì…
  const userService = new UserService(userRepo);
  return { userService };
}
```

**í¬ì¸íŠ¸**: "ì „ì—­ ì ‘ê·¼"ì€ ì•ˆ ì“°ì§€ë§Œ "ì „ì—­ ìˆ˜ëª…"ì€ ìœ ì§€ â†’ í…ŒìŠ¤íŠ¸/ìœ ì§€ë³´ìˆ˜ ëª¨ë‘ ì•ˆì „.

## ğŸ¯ ê²°ë¡ 

Firebaseê°€ ìˆœí™˜ì ì´ë¼ DIê°€ ë¶ˆë¦¬í•œ ê²Œ ì•„ë‹ˆë¼, **SDK ìƒì„± ë¡œì§ì´ ë„ë©”ì¸/í•¸ë“¤ëŸ¬ë¡œ í©ì–´ì§ˆ ë•Œ ì‚¬ì´í´ê³¼ ê²°í•©ì´ í­ë°œí•©ë‹ˆë‹¤.**

ì •ë‹µì€ **í˜¼í•© ì „ëµ**: SDK = ì‹±ê¸€í†¤ ìˆ˜ëª…, ì ‘ê·¼ì€ ì£¼ì…(DI).  
ì´ë ‡ê²Œ í•˜ë©´ ìˆœí™˜ ì°¨ë‹¨, í…ŒìŠ¤íŠ¸ ìš©ì´, í™•ì¥ ìš©ì´ê°€ ë™ì‹œì— ì¶©ì¡±ë©ë‹ˆë‹¤.

---

## ğŸš€ ë‹¨ê³„ë³„ êµ¬í˜„ ê³„íš

### Phase 1: ì¸í”„ë¼ ì‹±ê¸€í†¤ êµ¬ì¶•
- [ ] `src/infra/bootstrap.ts` Firebase ì‹±ê¸€í†¤
- [ ] `src/ports/index.ts` í¬íŠ¸ ì¸í„°í˜ì´ìŠ¤ ì •ì˜
- [ ] `src/adapters/firebase/` ì–´ëŒ‘í„° êµ¬í˜„

### Phase 2: ë„ë©”ì¸ DI êµ¬í˜„
- [ ] `src/domain/services/` ìˆœìˆ˜ DI ì„œë¹„ìŠ¤
- [ ] `src/composition-root.ts` ì˜ì¡´ì„± ê²°ì„ 
- [ ] ê¸°ì¡´ ì„œë¹„ìŠ¤ì™€ í˜¸í™˜ì„± ë˜í¼

### Phase 3: í”„ë ˆì  í…Œì´ì…˜ ë§ˆì´ê·¸ë ˆì´ì…˜
- [ ] API ë¼ìš°íŠ¸ DI ì ìš©
- [ ] Hooks DI ì ìš©
- [ ] ì»´í¬ë„ŒíŠ¸ DI ì ìš©

### Phase 4: í…ŒìŠ¤íŠ¸ ë° ê²€ì¦
- [ ] Mock ì–´ëŒ‘í„° í…ŒìŠ¤íŠ¸
- [ ] í†µí•© í…ŒìŠ¤íŠ¸
- [ ] ì„±ëŠ¥ ê²€ì¦

---

**ì´ ë¬¸ì„œë¥¼ ê°€ì´ë“œë¼ì¸ìœ¼ë¡œ ì‚¼ì•„ ë‹¨ê³„ë³„ë¡œ ì§„í–‰í•©ë‹ˆë‹¤!** ğŸ¯
