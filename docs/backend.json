
{
  "entities": {
    "Member": {
      "title": "Member",
      "type": "object",
      "description": "Represents a member of the Korean Gymnastics Federation.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the member. Same as the document ID."
        },
        "name": {
          "type": "string",
          "description": "Full name of the member."
        },
        "dateOfBirth": {
          "type": "string",
          "description": "Date of birth of the member.",
          "format": "date-time"
        },
        "gender": {
          "type": "string",
          "enum": ["male", "female"],
          "description": "Gender of the member."
        },
        "email": {
          "type": "string",
          "description": "Email address of the member. Can be guardian's email.",
          "format": "email"
        },
        "phoneNumber": {
          "type": "string",
          "description": "Phone number of the member. Can be guardian's phone number."
        },
        "clubId": {
          "type": "string",
          "description": "Reference to Club ID."
        },
        "status": {
          "type": "string",
          "enum": ["active", "inactive", "pending"],
          "description": "The status of the member."
        },
        "guardianIds": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "An array of UIDs for the guardian UserProfiles, if applicable."
        },
        "photoURL": {
          "type": "string",
          "description": "URL of the member's profile picture."
        }
      },
      "required": [
        "id",
        "name",
        "dateOfBirth",
        "gender",
        "clubId",
        "status"
      ]
    },
    "Club": {
      "title": "Club",
      "type": "object",
      "description": "Represents a gymnastics club affiliated with the Korean Gymnastics Federation.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the club. Same as the document ID."
        },
        "name": {
          "type": "string",
          "description": "Name of the club."
        },
        "contactName": {
          "type": "string",
          "description": "Contact name for the club."
        },
        "contactEmail": {
          "type": "string",
          "description": "Contact email for the club.",
          "format": "email"
        },
        "contactPhoneNumber": {
          "type": "string",
          "description": "Contact phone number for the club."
        },
        "location": {
          "type": "string",
          "description": "Location of the club."
        }
      },
      "required": [
        "id",
        "name",
        "contactName",
        "contactEmail",
        "contactPhoneNumber",
        "location"
      ]
    },
    "Attendance": {
      "title": "Attendance",
      "type": "object",
      "description": "Represents a member's attendance record.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the attendance record."
        },
        "memberId": {
          "type": "string",
          "description": "Reference to Member. (Relationship: Member 1:N Attendance)"
        },
        "clubId": {
          "type": "string",
          "description": "Reference to Club. (Relationship: Club 1:N Attendance)"
        },
        "date": {
          "type": "string",
          "description": "Date of the attendance record.",
          "format": "date-time"
        },
        "status": {
          "type": "string",
          "enum": ["present", "absent", "excused"],
          "description": "The attendance status."
        }
      },
      "required": [
        "id",
        "memberId",
        "clubId",
        "date",
        "status"
      ]
    },
    "Payment": {
      "title": "Payment",
      "type": "object",
      "description": "Represents a payment made by a member or club.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the payment."
        },
        "memberId": {
          "type": "string",
          "description": "Reference to Member. (Relationship: Member 1:N Payment) Nullable if payment is from Club directly."
        },
        "clubId": {
          "type": "string",
          "description": "Reference to Club. (Relationship: Club 1:N Payment) Nullable if payment is from Member directly."
        },
        "amount": {
          "type": "number",
          "description": "Amount of the payment."
        },
        "date": {
          "type": "string",
          "description": "Date of the payment.",
          "format": "date-time"
        },
        "description": {
          "type": "string",
          "description": "Description of the payment (e.g., club fees, competition entry)."
        }
      },
      "required": [
        "id",
        "amount",
        "date",
        "description"
      ]
    },
    "Competition": {
      "title": "Competition",
      "type": "object",
      "description": "Represents a gymnastics competition.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the competition."
        },
        "name": {
          "type": "string",
          "description": "Name of the competition."
        },
        "startDate": {
          "type": "string",
          "description": "Start date of the competition.",
          "format": "date-time"
        },
        "endDate": {
          "type": "string",
          "description": "End date of the competition.",
          "format": "date-time"
        },
        "location": {
          "type": "string",
          "description": "Location of the competition."
        }
      },
      "required": [
        "id",
        "name",
        "startDate",
        "endDate",
        "location"
      ]
    },
    "LevelTest": {
      "title": "LevelTest",
      "type": "object",
      "description": "Represents a gymnastics level test.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the level test."
        },
        "name": {
          "type": "string",
          "description": "Name of the level test."
        },
        "date": {
          "type": "string",
          "description": "Date of the level test.",
          "format": "date-time"
        },
        "location": {
          "type": "string",
          "description": "Location of the level test."
        },
         "status": {
          "type": "string",
          "enum": ["scheduled", "completed"],
          "description": "The status of the level test."
        }
      },
      "required": [
        "id",
        "name",
        "date",
        "location",
        "status"
      ]
    },
    "TestResult": {
      "title": "TestResult",
      "type": "object",
      "description": "Represents the result of a member's level test.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the test result."
        },
        "memberId": {
          "type": "string",
          "description": "Reference to Member. (Relationship: Member 1:N TestResult)"
        },
        "levelTestId": {
          "type": "string",
          "description": "Reference to LevelTest. (Relationship: LevelTest 1:N TestResult)"
        },
        "score": {
          "type": "number",
          "description": "Score achieved on the level test."
        },
        "passed": {
          "type": "boolean",
          "description": "Indicates whether the member passed the level test."
        }
      },
      "required": [
        "id",
        "memberId",
        "levelTestId",
        "score",
        "passed"
      ]
    },
    "CompetitionRegistration": {
      "title": "CompetitionRegistration",
      "type": "object",
      "description": "Represents a member's registration for a competition.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the registration."
        },
        "memberId": {
          "type": "string",
          "description": "Reference to Member. (Relationship: Member 1:N CompetitionRegistration)"
        },
        "competitionId": {
          "type": "string",
          "description": "Reference to Competition. (Relationship: Competition 1:N CompetitionRegistration)"
        },
        "registrationDate": {
          "type": "string",
          "description": "Date of the registration.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "memberId",
        "competitionId",
        "registrationDate"
      ]
    },
    "UserProfile": {
      "title": "UserProfile",
      "type": "object",
      "description": "Represents a user's profile information.",
      "properties": {
        "uid": {
          "type": "string",
          "description": "The user's unique ID."
        },
        "email": {
          "type": "string",
          "format": "email",
          "description": "The user's email address."
        },
        "displayName": {
          "type": "string",
          "description": "The user's display name."
        },
        "photoURL": {
          "type": "string",
          "description": "The URL of the user's profile picture."
        },
        "role": {
          "type": "string",
          "enum": ["admin", "member", "club-admin"],
          "description": "The user's role."
        },
        "provider": {
            "type": "string",
            "enum": ["email", "google"],
            "description": "The authentication provider."
        },
        "status": {
            "type": "string",
            "enum": ["pending", "approved"],
            "description": "The approval status of the user."
        },
        "isGuardian": {
          "type": "boolean",
          "description": "Indicates if the user is a guardian."
        },
        "clubName": {
            "type": "string",
            "description": "The name of the club the user manages."
        },
        "phoneNumber": {
            "type": "string",
            "description": "The phone number of the club."
        }
      },
      "required": ["uid", "email", "displayName", "photoURL", "role", "provider", "status"]
    }
  },
  "auth": {
    "providers": ["password", "google.com"]
  },
  "firestore": {
    "/users/{userId}": {
      "schema": {
        "$ref": "#/entities/UserProfile"
      },
      "description": "Stores user profile information."
    },
    "/clubs/{clubId}": {
      "schema": {
        "$ref": "#/entities/Club"
      },
      "description": "Stores club information."
    },
    "/members/{memberId}": {
      "schema": {
        "$ref": "#/entities/Member"
      },
      "description": "Stores all member information."
    },
    "/competitions/{competitionId}": {
      "schema": {
        "$ref": "#/entities/Competition"
      },
      "description": "Stores competition information."
    },
    "/level_tests/{levelTestId}": {
      "schema": {
        "$ref": "#/entities/LevelTest"
      },
      "description": "Stores level test information."
    },
    "/attendance/{attendanceId}": {
      "schema": {
        "$ref": "#/entities/Attendance"
      },
      "description": "Stores attendance records."
    }
  }
}
